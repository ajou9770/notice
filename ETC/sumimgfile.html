<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ì´ë¯¸ì§€íŒŒì¼ í•©ì¹˜ê¸°</title>
    <link
      href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
</head>
<style>
    body {
        margin: 10px;
    }
    img {
        width: 100%;
    }
    form {
        margin-bottom: 15px;
        padding-left: 15px;
        margin-left: 10px;
      }
      
      #merged-image {
        width: 100%;
        height: auto;
        margin-top: 20px;
      }
      input[type="file"] {
        margin-bottom: 10px;
        border-radius: 5px;
        padding: 5px;
      } 
      input {
        margin-bottom: 10px;
        border-radius: 5px;
        padding: 5px;
        border: none;
      } 
      button {
        margin-bottom: 10px;
        border-radius: 5px;
        font-size: larger;
        border: none;
        padding: 5px;
        background-color: tomato;
        color: whitesmoke;
        font-family: Arial, Helvetica, sans-serif;
        font-weight: 600;
        box-shadow: 0px 3px 6px grey;
      } 
      #plus {
        display: none;
      }
      .center {
        text-align: center;
      }        
</style>
<body>
    <div class="center">
    <h3>âœ¨Image í•©ì¹˜ê¸°</h3>
    </div>
    <hr>
    <h4>ğŸ“¢ì•„ë˜ì—ì„œ ì´ë¯¸ì§€íŒŒì¼ì„ ì„ íƒí•˜ì‹ í›„ ì‹¤í–‰ ë°”ëë‹ˆë‹¤. </h4>
    <div>
      <input type="file" id="file-input-1">
      <input type="file" id="file-input-2">
      <input type="file" id="file-input-3">
      <input type="file" id="file-input-4">
      <input type="file" id="file-input-5">
      <input type="file" id="file-input-6">
      <!-- ì´ë¯¸ì§€íŒŒì¼ ë¡œë“œ ì¶”ê°€ ì„¤ì • 5ê°œ -->
      <div id="plusimg" style="display:none;">
        <input type="file" id="file-input-7">
        <input type="file" id="file-input-8">
        <input type="file" id="file-input-9">
        <input type="file" id="file-input-10">
        <input type="file" id="file-input-11">
      </div>
      <input id="plusbtn" type="button" value="â•ì´ë¯¸ì§€íŒŒì¼ ë” ì¶”ê°€í•˜ê¸°" onclick="plusbtn()">
      <hr>
      <button onclick="mergeImages()">ğŸš€ì´ë¯¸ì§€ í•©ì¹˜ê¸°</button>
    </div>
    <div id="merged-image"></div>
    <script>
        function plusbtn() {
            document.getElementById('plusimg').style.display='block';
            document.getElementById('plusbtn').style.display='none';
            alert('ğŸš€5ê°œì˜ ì´ë¯¸ì§€ íŒŒì¼ì„ ë” ì¶”ê°€í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ì´11ê°œ íŒŒì¼ ì¶”ê°€ ê°€ëŠ¥)')
        }

        function mergeImages() {
            var inputs = document.querySelectorAll('input[type="file"]');
            var images = [];
            for (var i = 0; i < inputs.length; i++) {
              var input = inputs[i];
              if (input.files.length > 0) {
                for (var j = 0; j < input.files.length; j++) {
                  images.push(input.files[j]);
                }
              }
            }
            if (images.length == 0) {
              alert('ì´ë¯¸ì§€ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.');
              return;
            }
            var maxWidth = 0;
            var totalHeight = 0;
            var loadedCount = 0;
            var canvas = document.createElement('canvas');
            var ctx = canvas.getContext('2d');
            for (var i = 0; i < images.length; i++) {
              var image = new Image();
              image.onload = function() {
                if (this.width > maxWidth) {
                  maxWidth = this.width;
                }
                totalHeight += this.height;
                loadedCount++;
                if (loadedCount == images.length) {
                  canvas.width = maxWidth;
                  canvas.height = totalHeight;
                  var y = 0;
                  for (var i = 0; i < images.length; i++) {
                    var image = new Image();
                    image.onload = function() {
                      var x = (maxWidth - this.width) / 2;
                      ctx.drawImage(this, x, y);
                      y += this.height;
                      if (y == totalHeight) {
                        var dataURL = canvas.toDataURL('image/png');
                        var mergedImage = document.createElement('img');
                        mergedImage.src = dataURL;
                        var mergedImageDiv = document.getElementById('merged-image');
                        mergedImageDiv.innerHTML = '';
                        mergedImageDiv.appendChild(mergedImage);
                      }
                    };
                    image.src = URL.createObjectURL(images[i]);
                  }
                }
              };
              image.src = URL.createObjectURL(images[i]);
            }
          }                             
    </script>
</body>
</html>