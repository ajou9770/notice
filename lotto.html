<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/mvp.css@1.12/mvp.css"> 
    <title>이벤트 추첨하기</title>
    <style>
        html {
            margin: 5px;
            padding: 5px;
        }
    form {
        background-color: teal;
        width: 50px;
        text-align: center;
        height: auto;
        padding: 10px;
        font-size: larger;
        font-weight: 600;
        box-shadow: 0px 4px 8px 0px grey;
    }
    input {
        background-color: tomato;
        box-shadow: 0px 4px 8px 0px grey;
        font-weight: 600;
        width: auto;
        color: whitesmoke;
    }
    input:active {
        transform: scale(0.98);
    }  
    #lotonum, #lotall, #lottitle, #lotgift {
        background-color: beige;
        color: rgb(24, 22, 22);
        font-size: 15px;
        width: 200px;
    }  
    </style>
    <h2><b>🎉 신협 이벤트 추첨 Program  </b></h2>
    <h3 style="color: tomato;"> ✔️이벤트 제목 및 내용을 입력하세요~<br/>
    </h3>
      <form name="form">
      <input id="lottitle" type="text" name="추첨타이틀" placeholder="🎉추첨명 입력" required>
      <input id="lotgift" type="text" name="추첨상품" placeholder="🎁이벤트 상품 입력" required>
      <input id="lotonum" type="text" name="추첨인원" placeholder="🚀추첨인원(건)수 입력" required>
      <input id="lotall" type="text" name="추첨대상인원" placeholder="🔢추첨대상인원(건)수 입력" required>
    <input type="submit" value="🎉추첨하기🖱️ " onClick="rand();">
    </form>
    <br>
    <a href="mailto:ajou9770@ajoucu.page">📨추첨대상자 파일(Excell 등) 📤업로드 메일 보내기</a>
    <h4>📑written by s.h kim<a href="mailto:sktseolho@gmail.com">📨</a></h4>
    </div>
    <br><br>
    <!-- <div id="current_date" style="font-size: large; font-weight: 600; color: blue;"> -->
    
        <script>
        const NewDate = new Date().toLocaleString(); 
        document.getElementById("current_date").innerHTML =`🗓️추첨일시:  ${NewDate}`;
        </script>
    <script>
        const lotNum = form.querySelector("#lotonum");
        const lotAll = form.querySelector("#lotall");
        const lotTitle = form.querySelector("#lottitle");
        const lotGift = form.querySelector("#lotgift");
        function rand() {
            alert("현재는 입력된 추첨대상 자료가 없습니다. ");
        let Title = lotTitle.value; // 추첨 타이틀
        let Gift = lotGift.value;   // 추첨 상품명 
        let tot=lotAll.value; // 자료수
        let cnt=lotNum.value; // 추첨인원
        data=new Array(tot);
        
        data[1]=new Array("박다미", "010-0000-****");
         
        head="<br><br><font color=tomato size=4><b> ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ </b></font><br><br>";
        head+="<table border=1 cellspacing=0 width=350 bordercolordark=white bordercolorlight=#A0ACA0>";
        head+="<tr><td align=center><font size=3>No.<td align=center><font size=3><padding = 5px>조합원성명</td><td align=center><font size=3>핸드폰번호</td></tr>";
        
        lot=new Array(tot);
        lot[1]=0;
        
        for (i=1;i<=cnt;i++)
        {
            flag=0;
            while(flag==0) {
            result=Math.floor(Math.random()*tot+1);
            
            for(j=1;j<=i;j++) {
               if (result==lot[j]) {
                  flag=0;
                  break;
               } else {
                  flag=1;
               }
            }
            
            }
               lot[i]=result;
        }
        temp=0;
        for (i=1;i<=cnt-1;i++)  {
        for (j=i+1;j<=cnt;j++) {
            if (lot[i]>lot[j]) {
                temp=lot[i];
                lot[i]=lot[j];
                lot[j]=temp;
            }
        }
        }
        document.write(`<h3>🎉추첨 타이틀: ${Title}</h3>`);
        document.write(`<h3 style="color:tomato;">🎁상품명: ${Gift}</h3>`);
        document.write(`<h3 style="color:blue;">| 🎉 ${Title} 추첨결과 |`);
        document.write(head)
        for (i=1;i<=cnt;i++)  {
            document.write("<tr><td align=center><font size=3>",i,"</td><td align=center><font color=blue size=3>",data[lot[i]][0],"</td><td><font size=3>&nbsp;"+data[lot[i]][1]+"</td>");
            }
        document.write("</table>");
        /* document.write('<div style="height:35; width=300; margin:10 10 0 0;font-size:11pt;text-align:right"></font></a></div>'); */
        
        // 추첨일시 표기 //
        document.write(`<div id="current_date" style="font-size: large; font-weight: 600; color: blue;"></p>`)
        const NewDate = new Date().toLocaleString(); 
        document.getElementById("current_date").innerHTML =`🗓️추첨일시:  ${NewDate}`;
        document.write(`<hr>`);
        // 재추첨하기 버튼 CSS //
        document.write(`<input type="submit" value="🎉다시추첨하기🖱️" onclick="window.location.reload()" 
        /* style="font-size:large; 
        background-color:tomato; 
        border:none; 
        border-radius:5px; 
        padding:10px; 
        color:white; 
        font-weight:600; 
        box-shadow:0px 4px 8px 0px grey;" */>`);
        }
        </script>
        <div id="current_date" style="font-size: large; font-weight: 600; color: blue;"></p>
         </BODY>
    </HTML>