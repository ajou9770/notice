<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.8" />
    <title>월 대출 원리금 계산하기</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        background-color: ivory;
        vertical-align: middle;
        text-align: justify;
        margin-left: 20px;
        margin-right: 20px;
        margin-bottom: 20px;
      }
      .in {
        width: 30%;
        height: 50px;
        border-radius: 10px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-term {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-date {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-year {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .selectMethod {
        width: 35%;
        height: 50px;
        border-radius: 10px;
        font-size: 20px;
        font-weight: 600;
      }
      .selectPp {
        width: 50%;
        border-radius: 10px;
        height: 50px;
        font-size: 20px;
        font-weight: 600;
      }
      .out {
        width: 25%;
        border-radius: 10px;
        border-width: 2px 6px 6px 2px;
        height: 55px;
        font-size: 25px;
        font-weight: 600;
      }
      .submit {
        margin-top: 20px;
      }
      .dan {
        font-size: 30px;
        font-weight: 700;
      }
      .calin {
        height: auto;
        width: 400px;
        border-width: 6px 2px;
        border-color: teal blueviolet;
        border-style: solid;
        background-color: wheat;
        opacity: 0.8;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 10px;
        border-radius: 10px;
      }
      .result {
        height: auto;
        width: 400px;
        border-width: 5px 2px;
        border-color: teal wheat;
        border-style: solid;
        text-align: left;
        background-color: thistle;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .resultmile {
        height: auto;
        width: 400px;
        border-width: 5px 2px;
        border-color: teal wheat;
        border-style: solid;
        text-align: left;
        background-color: yellowgreen;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .title {
        height: auto;
        width: 400px;
        border-width: 6px 2px;
        border-color: teal wheat;
        border-style: solid;
        padding-top: 5px;
        padding-bottom: 5px;
        text-align: center;
        font-size: 33px;
        font-weight: 600;
        background-color: thistle;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .mile a {
        color: white;
        text-decoration: none;
        font-weight: 700;
        font-size: 25px;
      }
      .mile {
        background-color: darkcyan;
        text-align: center;
        justify-content: center;
        align-items: center;
        padding-top: 5px;
        padding-bottom: 5px;
        border-radius: 10px;
        opacity: 0.8;
        height: auto;
        width: 300px;
        font-size: 10px;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 700;
        color: snow;
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <div class="title"> 월 대출원리금 계산 하기</div>
    <h3>☞ 이자는 최저(우대)금리기준 <br/>
        ※ 참조합원:으뜸이 / 신용평점등급: 1~2등급(평점) </h3></span>      
  <div class="calin">
        <span><h2>1.대출금액을 입력하세요</h2></span>
<form>
  <input class="in" type="number" required /><span class="dan"> 만원</span>
  <h2><span>2.대출기간을 입력하세요</span></h2>
  <select class="in-year" style="height: 50px;">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
</select>
<span class="dan">년</span>
<select class="in-date" style="height: 50px;">
  <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
</select>
<span class="dan">개월</span>
  <h2>3. 상환 방법 및 최초대출 여부를 선택하세요.</h2>
<select class="selectMethod" style="height: 50px;">
    <option value="1">일시상환</option>
    <option value="2">분할상환</option>
</select>
<select class="selectPp" style="height: 50px;">
  <option value="1">최초대출해당됨(0.2%우대)</option>
  <option value="2">해당없음(기대출이력 있음)</option>
</select>
  <div class="submit"><input class="out" type="submit"></div><br/>
  <h2><mark>※ 개인신용평점, 우대조건 등에 따라 다를 수 있습니다. </mark></h2>
</form><br/></div><br/>
<div class="result">
  <h1></h1></div>
  <h1 class="resultmile"></h1>
  <h2><mark>※ 이용고배당은 1년 동안의 대출평잔과 기타 이용실적 기준으로 산출됨<br/>
  ☞대출기간이 1년 미만인 경우는 산출된 금액보다 적을 수 있습니다. </mark></h2>
<div class="mile">
<a href="http://ajou9770.github.io/usertip/loan.html"> <i class="fas fa-chevron-left fa-lg"></i> 이전화면 돌아가기 </i></a><br/>
</div>
<script src="https://kit.fontawesome.com/6478f529f2.js" crossorigin="anonymous"></script>
<script>
  const hOne = document.querySelector(".result h1:nth-child(1)");
  const hTwo = document.querySelector(".resultmile");
  const calInput = document.querySelector(".in");
  const calForm = document.querySelector("form");
  const year = document.querySelector(".in-year");
  const date = document.querySelector(".in-date")
  const selectOne = document.querySelector(".selectMethod");
  const selectTwo = document.querySelector(".selectPp");

  function cal(event) {
    event.preventDefault();
    const oneValue = calInput.value*10000;
    const twoValueYear = parseInt(year.value)*12;
    const twoValueDate = parseInt(date.value);
    const twoValue = twoValueYear + twoValueDate;
    const threeValue = selectOne.value;
    const fourValue = selectTwo.value;
    let firstValue = Math.round(oneValue/twoValue/10)*10;
    let secondValue = Math.round(oneValue*0.027/365*30/10)*10;
    let thirdValue = Math.round(oneValue * 0.0045/2/10)*10
    if(parseInt(threeValue) === 1){
      firstValue = 0;
      thirdValue = Math.round(thirdValue*2/10)*10;
    } 
    if(parseInt(fourValue) === 1) {
       secondValue = Math.round(oneValue*0.025/365*30/10)*10;
    }
    if(twoValue > 60){
      return hOne.innerHTML = `대출기간은 총 5년입니다. 지금 입력하신 기간은 ${year.value}년 ${twoValueDate}개월 입니다.`
    }
    window.scrollTo(0,400);
    hOne.innerHTML = `☞월분할 상환원금은 ${firstValue.toLocaleString("ko-KR")}원 이고, 
    월이자는 약 ${secondValue.toLocaleString("ko-KR")}원입니다. 
    원리금 합산(월부담금)은 약 ${(firstValue+secondValue).toLocaleString("ko-KR")}원 입니다.`;
    hTwo.innerHTML = `☞대출금관련 이용고배당으로 매년(2월경) 약 ${thirdValue.toLocaleString("ko-KR")}원을 돌려 받습니다.`;
} 
  calForm.addEventListener("submit", cal);
</script>
  </body>
</html>