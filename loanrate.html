<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.8" />
    <title>월 대출 원리금 계산하기</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        background-color: ivory;
        vertical-align: middle;
        text-align: justify;
        margin-left: 20px;
        margin-right: 20px;
        margin-bottom: 20px;
      }
      .in {
        width: 30%;
        height: 50px;
        border-radius: 10px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-term {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-date {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .in-year {
        width: 20%;
        border-radius: 10px;
        height: 50px;
        font-size: 30px;
        font-weight: 500;
      }
      .selectMethod {
        width: 35%;
        height: 50px;
        border-radius: 10px;
        font-size: 20px;
        font-weight: 600;
      }
      .selectPp {
        width: 50%;
        border-radius: 10px;
        height: 50px;
        font-size: 20px;
        font-weight: 600;
      }
      .out {
        width: 25%;
        border-radius: 10px;
        border-width: 2px 6px 6px 2px;
        height: 55px;
        font-size: 25px;
        font-weight: 600;
      }
      .submit {
        margin-top: 20px;
      }
      .dan {
        font-size: 30px;
        font-weight: 700;
      }
      .calin {
        height: auto;
        width: 400px;
        border-width: 6px 2px;
        border-color: teal blueviolet;
        border-style: solid;
        background-color: wheat;
        opacity: 0.8;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 10px;
        border-radius: 10px;
      }
      .result {
        height: auto;
        width: 400px;
        border-width: 5px 2px;
        border-color: teal wheat;
        border-style: solid;
        text-align: left;
        background-color: thistle;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .resultmile {
        height: auto;
        width: 400px;
        border-width: 5px 2px;
        border-color: teal wheat;
        border-style: solid;
        text-align: left;
        background-color: yellowgreen;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .title {
        height: auto;
        width: 400px;
        border-width: 6px 2px;
        border-color: teal wheat;
        border-style: solid;
        padding-top: 5px;
        padding-bottom: 5px;
        text-align: center;
        font-size: 33px;
        font-weight: 600;
        background-color: thistle;
        opacity: 0.8;
        padding-left: 10px;
        border-radius: 10px;
      }
      .mile a {
        color: white;
        text-decoration: none;
        font-weight: 700;
        font-size: 25px;
      }
      .mile {
        background-color: darkcyan;
        text-align: center;
        justify-content: center;
        align-items: center;
        padding-top: 5px;
        padding-bottom: 5px;
        border-radius: 10px;
        opacity: 0.8;
        height: auto;
        width: 300px;
        font-size: 10px;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 700;
        color: snow;
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <div class="title">월 대출 원리금 계산 하기</div>
    <h3>
      ☞ 이자는 최저(우대)금리 기준(현재, 2.5%~2.7%)<br />
      ☞ 참조합원:으뜸이 / 신용평점(등급):1~2등급기준
    </h3>
    <div class="calin">
      <h2>1.대출금액을 입력하세요</h2>
      <form>
        <input class="in" type="number" required /><span class="dan">
          만원</span
        >
        <h2><span>2.대출기간을 입력하세요</span></h2>
        <select class="in-year" style="height: 50px">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
        <span>년</span>
        <select class="in-date" style="height: 50px">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
          <option value="11">11</option>
        </select>
        <span>월</span>
        <h2>상환 방법 및 최초대출 여부를 선택하세요.</h2>
        <select class="selectMethod" style="height: 50px">
          <option value="1">일시상환</option>
          <option value="2">분할상환</option>
        </select>
        <select class="selectPp" style="height: 50px">
          <option value="1">최초대출(0.2%우대)</option>
          <option value="2">해당없음(기대출이력 있음)</option>
        </select>
        <div class="submit"><input class="out" type="submit" /></div>
        <h3>
          <mark>※ 신협은 대출금 중도상환 수수료가 없습니다. </mark>
        </h3>
      </form>
    </div><br/>
    <div class="result">
      <h1></h1></div>
      <h1 class="resultmile"></h1>
    </div><br/>
    <h3>
      <mark>※ 대출기간이 1년미만이거나, 중도상환할 경우 이용고 배당 금액은 달라 질 수 있습니다.<br/>
      ※ 이용고배당은 대출금평잔과 대출관련 기타이용 실적이 포함되어 지급됩니다. </mark>
    </h3><br/>
    <div class="mile">
      <a href="http://ajou9770.github.io/usertip/loan.html">
        <i class="fas fa-chevron-left fa-lg"></i> 이전화면 돌아가기
      </a>
    </div>
    <script
      src="https://kit.fontawesome.com/6478f529f2.js"
      crossorigin="anonymous"
    ></script>

<script>
  const hOne = document.querySelector(".result h1:nth-child(1)");
  const hTwo = document.querySelector(".resultmile");
  const calInput = document.querySelector(".in");
  const calForm = document.querySelector("form");
  const sum = document.querySelector(".submit");
  const year = document.querySelector(".in-year");
  const date = document.querySelector(".in-date");
  const selectOne = document.querySelector(".selectMethod");
  const selectTwo = document.querySelector(".selectPp");
  function cal(event) {
    event.preventDefault();
    const oneValue = calInput.value * 10000;
    const twoValueYear = parseInt(year.value) * 12;
    const twoValueDate = parseInt(date.value);
    const twoValue = twoValueYear + twoValueDate;
    const threeValue = selectOne.value;
    const fourValue = selectTwo.value;
    let firstValue = Math.round(oneValue / twoValue / 10) * 10;
    let secondValue =
      Math.round((((oneValue * 0.027) / 365) * 30) / 10) * 10;
    let thirdValue = Math.round((oneValue * 0.0045) / 2 / 10) * 10;
    if (calInput.value < 10 || calInput.value >20000) {
      return alert("최소 대출 금액은 10만원 최대 대출 금액은 2억원 입니다.");
    }
    if (parseInt(threeValue) === 1) {
      firstValue = 0;
      thirdValue = Math.round((thirdValue * 2) / 10) * 10;
    }
    if (parseInt(fourValue) === 1) {
      secondValue = Math.round((((oneValue * 0.025) / 365) * 30) / 10) * 10;
    }
    if (twoValue > 60) {
      hOne.innerHTML = `대출기간은 총 5년입니다. 지금 입력하신 기간은 ${year.value}년 ${twoValueDate}개월 입니다.`;
      window.scrollTo(0, document.body.scrollHeight);
    } else {
      hOne.innerHTML = `월분할상환원금${firstValue.toLocaleString(
        "ko-KR"
      )}원 이고, 월이자는 약 ${secondValue.toLocaleString(
        "ko-KR"
      )}원잆니다. 합계는 ${(firstValue + secondValue).toLocaleString(
        "ko-KR"
      )}입니다.`;
      hTwo.innerHTML = `대출관련 이용고배당으로 매년(2월) 환급되는 금액은 약 ${thirdValue.toLocaleString(
        "ko-KR"
      )}원입니다.`;
      window.scrollTo(0, document.body.scrollHeight);
    }
  }
  calForm.addEventListener("submit", cal);
</script>

  </body>
</html>