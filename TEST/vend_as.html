<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자판기 이용불편신고</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
    function submitForm() {
        var formData = {
            name: document.getElementById('name').value,
            contact: document.getElementById('contact').value,
            location: document.getElementById('location').value,
            machineId: document.getElementById('machineId').value,
            issueType: document.getElementById('issueType').value,
            description: document.getElementById('description').value
            // 추가적인 필드들도 여기에 포함시킬 수 있습니다.
        };
        google.script.run.withSuccessHandler(onFormSubmitted).submitReport(formData);
    }

    function onFormSubmitted(response) {
        if (response.success) {
            alert(response.message);
            document.getElementById('reportForm').reset(); // 폼 리셋
        } else {
            alert('오류가 발생했습니다. 다시 시도해주세요.');
        }
    }
</script>
</head>

<body>
    <div class="container mt-5">
        <h2>자판기 이용불편신고</h2>
        <form id="reportForm">
            <!-- 신고자 정보 -->
            <div class="form-group">
                <label for="name">이름:</label>
                <input type="text" class="form-control" id="name" placeholder="이름을 입력하세요">
            </div>
            <div class="form-group">
                <label for="contact">연락처:</label>
                <input type="text" class="form-control" id="contact" placeholder="연락처를 입력하세요">
            </div>

            <!-- 자판기 정보 -->
            <div class="form-group">
                <label for="location">자판기 위치:</label>
                <input type="text" class="form-control" id="location" placeholder="자판기 위치를 입력하세요">
            </div>
            <div class="form-group">
                <label for="machineId">자판기 번호:</label>
                <input type="text" class="form-control" id="machineId" placeholder="자판기 번호를 입력하세요">
            </div>

            <!-- 불편 사항 -->
            <div class="form-group">
                <label for="issueType">불편 유형:</label>
                <select class="form-control" id="issueType">
                    <option value="machineError">기계 오류</option>
                    <option value="outOfStock">품절</option>
                    <option value="refundIssue">환불 문제</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">상세 설명:</label>
                <textarea class="form-control" id="description" rows="3"></textarea>
            </div>

            <!-- 사진 첨부 -->
            <div class="form-group">
                <label for="photo">사진 첨부:</label>
                <input type="file" class="form-control-file" id="photo">
            </div>

            <button type="button" class="btn btn-primary" onclick="submitForm()">신고하기</button>
        </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>

